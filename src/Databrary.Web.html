<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Databrary</span><span class="hs-operator">.</span><span class="hs-identifier">Web</span><span>
</span><a name="line-2"></a><span>  </span><span class="hs-special">(</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span>
</span><a name="line-3"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="../Databrary-Web.html#v:webFileRel"><span class="hs-identifier hs-var">webFileRel</span></a><span>
</span><a name="line-4"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="../Databrary-Web.html#v:webFileAbs"><span class="hs-identifier hs-var">webFileAbs</span></a><span>
</span><a name="line-5"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="../Databrary-Web.html#v:webFileRelRaw"><span class="hs-identifier hs-var">webFileRelRaw</span></a><span>
</span><a name="line-6"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="../Databrary-Web.html#v:webFileAbsRaw"><span class="hs-identifier hs-var">webFileAbsRaw</span></a><span>
</span><a name="line-7"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="../Databrary-Web.html#v:webDir"><span class="hs-identifier hs-var">webDir</span></a><span>
</span><a name="line-8"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="../Databrary-Web.html#v:webDirRaw"><span class="hs-identifier hs-var">webDirRaw</span></a><span>
</span><a name="line-9"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="../Databrary-Web.html#v:splitWebExtensions"><span class="hs-identifier hs-var">splitWebExtensions</span></a><span>
</span><a name="line-10"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="../Databrary-Web.html#v:splitWebExtension"><span class="hs-identifier hs-var">splitWebExtension</span></a><span>
</span><a name="line-11"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="../Databrary-Web.html#v:replaceWebExtension"><span class="hs-identifier hs-var">replaceWebExtension</span></a><span>
</span><a name="line-12"></a><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-13"></a><span>
</span><a name="line-14"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Arrow</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">first</span><span class="hs-special">)</span><span>
</span><a name="line-15"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">ByteString</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">BS</span><span>
</span><a name="line-16"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">ByteString</span><span class="hs-operator">.</span><span class="hs-identifier">Char8</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">BSC</span><span>
</span><a name="line-17"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Function</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">on</span><span class="hs-special">)</span><span>
</span><a name="line-18"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Hashable</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Hashable</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-19"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">String</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">IsString</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-20"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">System</span><span class="hs-operator">.</span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">FP</span><span>
</span><a name="line-21"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">System</span><span class="hs-operator">.</span><span class="hs-identifier">IO</span><span class="hs-operator">.</span><span class="hs-identifier">Unsafe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">unsafeDupablePerformIO</span><span class="hs-special">)</span><span>
</span><a name="line-22"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">System</span><span class="hs-operator">.</span><span class="hs-identifier">Posix</span><span class="hs-operator">.</span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">RFP</span><span>
</span><a name="line-23"></a><span>
</span><a name="line-24"></a><span class="hs-keyword">import</span><span> </span><a href="Paths_databrary.html"><span class="hs-identifier">Paths_databrary</span></a><span> </span><span class="hs-special">(</span><a href="Paths_databrary.html#getDataFileName"><span class="hs-identifier hs-var">getDataFileName</span></a><span class="hs-special">)</span><span>
</span><a name="line-25"></a><span class="hs-keyword">import</span><span> </span><a href="../Databrary-Files.html"><span class="hs-identifier">Databrary</span><span class="hs-operator">.</span><span class="hs-identifier">Files</span></a><span>
</span><a name="line-26"></a><span>
</span><a name="line-27"></a><span class="hs-keyword">data</span><span> </span><a name="WebFilePath"><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier">WebFilePath</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="WebFilePath"><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier">WebFilePath</span></a></a><span>
</span><a name="line-28"></a><span>  </span><span class="hs-special">{</span><span> </span><a name="webFileRel"><a href="../Databrary-Web.html#v:webFileRel"><span class="hs-identifier">webFileRel</span></a></a><span class="hs-special">,</span><span> </span><a name="webFileAbs"><a href="../Databrary-Web.html#v:webFileAbs"><span class="hs-identifier">webFileAbs</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">FilePath</span><span>
</span><a name="line-29"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="webFileRelRaw"><a href="../Databrary-Web.html#v:webFileRelRaw"><span class="hs-identifier">webFileRelRaw</span></a></a><span class="hs-special">,</span><span> </span><a name="webFileAbsRaw"><a href="../Databrary-Web.html#v:webFileAbsRaw"><span class="hs-identifier">webFileAbsRaw</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">RawFilePath</span><span>
</span><a name="line-30"></a><span>  </span><span class="hs-special">}</span><span>
</span><a name="line-31"></a><span>
</span><a name="line-32"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-33"></a><span>  </span><span class="hs-special">(</span><a name="local-805306535"><span class="hs-operator">==</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">==</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><a href="../Databrary-Web.html#v:webFileRelRaw"><span class="hs-identifier hs-var">webFileRelRaw</span></a><span>
</span><a name="line-34"></a><span>  </span><span class="hs-special">(</span><a name="local-1912610782"><span class="hs-operator">/=</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">/=</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><a href="../Databrary-Web.html#v:webFileRelRaw"><span class="hs-identifier hs-var">webFileRelRaw</span></a><span>
</span><a name="line-35"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-36"></a><span>  </span><a name="local-1912610783"><span class="hs-identifier">compare</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">compare</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><a href="../Databrary-Web.html#v:webFileRelRaw"><span class="hs-identifier hs-var">webFileRelRaw</span></a><span>
</span><a name="line-37"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Hashable</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-38"></a><span>  </span><a name="local-1912619531"><span class="hs-identifier">hashWithSalt</span></a><span> </span><a name="local-1627903922"><a href="#local-1627903922"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hashWithSalt</span><span> </span><a href="#local-1627903922"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="../Databrary-Web.html#v:webFileRelRaw"><span class="hs-identifier hs-var">webFileRelRaw</span></a><span>
</span><a name="line-39"></a><span>  </span><a name="local-1912619530"><span class="hs-identifier">hash</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hash</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="../Databrary-Web.html#v:webFileRelRaw"><span class="hs-identifier hs-var">webFileRelRaw</span></a><span>
</span><a name="line-40"></a><span>
</span><a name="line-41"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-42"></a><span>  </span><a name="local-1912610714"><span class="hs-identifier">showsPrec</span></a><span> </span><a name="local-1627903921"><a href="#local-1627903921"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">showsPrec</span><span> </span><a href="#local-1627903921"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;web&quot;</span><span> </span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.&lt;/&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="../Databrary-Web.html#v:webFileRel"><span class="hs-identifier hs-var">webFileRel</span></a><span>
</span><a name="line-43"></a><span>
</span><a name="line-44"></a><span class="hs-identifier">webDir</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">FilePath</span><span>
</span><a name="line-45"></a><a name="webDir"><a href="../Databrary-Web.html#v:webDir"><span class="hs-identifier">webDir</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">unsafeDupablePerformIO</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Paths_databrary.html#getDataFileName"><span class="hs-identifier hs-var">getDataFileName</span></a><span> </span><span class="hs-string">&quot;web&quot;</span><span>
</span><a name="line-46"></a><span>
</span><a name="line-47"></a><span class="hs-identifier">webDirRaw</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">RawFilePath</span><span>
</span><a name="line-48"></a><a name="webDirRaw"><a href="../Databrary-Web.html#v:webDirRaw"><span class="hs-identifier">webDirRaw</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../Databrary-Files.html#v:toRawFilePath"><span class="hs-identifier hs-var">toRawFilePath</span></a><span> </span><a href="../Databrary-Web.html#v:webDir"><span class="hs-identifier hs-var">webDir</span></a><span>
</span><a name="line-49"></a><span>
</span><a name="line-50"></a><span class="hs-identifier">makeWebFilePath</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">RawFilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span>
</span><a name="line-51"></a><a name="makeWebFilePath"><a href="../Databrary-Web.html#v:makeWebFilePath"><span class="hs-identifier">makeWebFilePath</span></a></a><span> </span><a name="local-1627903898"><a href="#local-1627903898"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-1627903899"><a href="#local-1627903899"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-var">WebFilePath</span></a><span> </span><a href="#local-1627903898"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><a href="../Databrary-Web.html#v:webDir"><span class="hs-identifier hs-var">webDir</span></a><span> </span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.&lt;/&gt;</span><span> </span><a href="#local-1627903898"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627903899"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-special">(</span><a href="../Databrary-Web.html#v:webDirRaw"><span class="hs-identifier hs-var">webDirRaw</span></a><span> </span><span class="hs-identifier hs-var">RFP</span><span class="hs-operator hs-var">.&lt;/&gt;</span><span> </span><a href="#local-1627903899"><span class="hs-identifier hs-var">r</span></a><span class="hs-special">)</span><span>
</span><a name="line-52"></a><span>
</span><a name="line-53"></a><span class="hs-identifier">webFilePath</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Databrary.Files.html#IsFilePath"><span class="hs-identifier hs-type">IsFilePath</span></a><span> </span><a href="#local-1627903897"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-1627903897"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span>
</span><a name="line-54"></a><a name="webFilePath"><a href="../Databrary-Web.html#v:webFilePath"><span class="hs-identifier">webFilePath</span></a></a><span> </span><a name="local-1627903900"><a href="#local-1627903900"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../Databrary-Web.html#v:makeWebFilePath"><span class="hs-identifier hs-var">makeWebFilePath</span></a><span> </span><span class="hs-special">(</span><a href="../Databrary-Files.html#v:toFilePath"><span class="hs-identifier hs-var">toFilePath</span></a><span> </span><a href="#local-1627903900"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="../Databrary-Files.html#v:toRawFilePath"><span class="hs-identifier hs-var">toRawFilePath</span></a><span> </span><a href="#local-1627903900"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-55"></a><span>
</span><a name="line-56"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">IsString</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-57"></a><span>  </span><a name="local-805306554"><span class="hs-identifier">fromString</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../Databrary-Web.html#v:webFilePath"><span class="hs-identifier hs-var">webFilePath</span></a><span>
</span><a name="line-58"></a><span>
</span><a name="line-59"></a><span class="hs-keyword">instance</span><span> </span><a href="Databrary.Files.html#IsFilePath"><span class="hs-identifier hs-type">IsFilePath</span></a><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-60"></a><span>  </span><a name="local-1912973937"><a href="../Databrary-Files.html#v:toFilePath"><span class="hs-identifier">toFilePath</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../Databrary-Web.html#v:webFileAbs"><span class="hs-identifier hs-var">webFileAbs</span></a><span>
</span><a name="line-61"></a><span>  </span><a name="local-1912973939"><a href="../Databrary-Files.html#v:toRawFilePath"><span class="hs-identifier">toRawFilePath</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../Databrary-Web.html#v:webFileAbsRaw"><span class="hs-identifier hs-var">webFileAbsRaw</span></a><span>
</span><a name="line-62"></a><span>  </span><a name="local-1912973940"><a href="../Databrary-Files.html#v:fromRawFilePath"><span class="hs-identifier">fromRawFilePath</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../Databrary-Web.html#v:webFilePath"><span class="hs-identifier hs-var">webFilePath</span></a><span>
</span><a name="line-63"></a><span>
</span><a name="line-64"></a><span>  </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-var">WebFilePath</span></a><span> </span><a name="local-1627903909"><a href="#local-1627903909"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-1627903910"><a href="#local-1627903910"><span class="hs-identifier">fa</span></a></a><span> </span><a name="local-1627903911"><a href="#local-1627903911"><span class="hs-identifier">r</span></a></a><span> </span><a name="local-1627903912"><a href="#local-1627903912"><span class="hs-identifier">ra</span></a></a><span> </span><a name="local-1912973941"><a href="Databrary.Files.html#%3C%2F%3E"><span class="hs-operator">&lt;/&gt;</span></a></a><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-var">WebFilePath</span></a><span> </span><a name="local-1627903913"><a href="#local-1627903913"><span class="hs-identifier">f'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627903914"><a href="#local-1627903914"><span class="hs-identifier">r'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-var">WebFilePath</span></a><span> </span><span class="hs-special">(</span><a href="#local-1627903909"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.&lt;/&gt;</span><span> </span><a href="#local-1627903913"><span class="hs-identifier hs-var">f'</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-1627903910"><span class="hs-identifier hs-var">fa</span></a><span> </span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.&lt;/&gt;</span><span> </span><a href="#local-1627903913"><span class="hs-identifier hs-var">f'</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-1627903911"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-identifier hs-var">RFP</span><span class="hs-operator hs-var">.&lt;/&gt;</span><span> </span><a href="#local-1627903914"><span class="hs-identifier hs-var">r'</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-1627903912"><span class="hs-identifier hs-var">ra</span></a><span> </span><span class="hs-identifier hs-var">RFP</span><span class="hs-operator hs-var">.&lt;/&gt;</span><span> </span><a href="#local-1627903914"><span class="hs-identifier hs-var">r'</span></a><span class="hs-special">)</span><span>
</span><a name="line-65"></a><span>  </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-var">WebFilePath</span></a><span> </span><a name="local-1627903915"><a href="#local-1627903915"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-1627903916"><a href="#local-1627903916"><span class="hs-identifier">fa</span></a></a><span> </span><a name="local-1627903917"><a href="#local-1627903917"><span class="hs-identifier">r</span></a></a><span> </span><a name="local-1627903918"><a href="#local-1627903918"><span class="hs-identifier">ra</span></a></a><span> </span><a name="local-1912973942"><a href="Databrary.Files.html#%3C.%3E"><span class="hs-operator">&lt;.&gt;</span></a></a><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-var">WebFilePath</span></a><span> </span><a name="local-1627903919"><a href="#local-1627903919"><span class="hs-identifier">f'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627903920"><a href="#local-1627903920"><span class="hs-identifier">r'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-var">WebFilePath</span></a><span> </span><span class="hs-special">(</span><a href="#local-1627903915"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.&lt;.&gt;</span><span> </span><a href="#local-1627903919"><span class="hs-identifier hs-var">f'</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-1627903916"><span class="hs-identifier hs-var">fa</span></a><span> </span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.&lt;.&gt;</span><span> </span><a href="#local-1627903919"><span class="hs-identifier hs-var">f'</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-1627903917"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-identifier hs-var">RFP</span><span class="hs-operator hs-var">.&lt;.&gt;</span><span> </span><a href="#local-1627903920"><span class="hs-identifier hs-var">r'</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-1627903918"><span class="hs-identifier hs-var">ra</span></a><span> </span><span class="hs-identifier hs-var">RFP</span><span class="hs-operator hs-var">.&lt;.&gt;</span><span> </span><a href="#local-1627903920"><span class="hs-identifier hs-var">r'</span></a><span class="hs-special">)</span><span>
</span><a name="line-66"></a><span>
</span><a name="line-67"></a><span class="hs-identifier">splitWebExtensions</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">BS</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">ByteString</span><span class="hs-special">)</span><span>
</span><a name="line-68"></a><a name="splitWebExtensions"><a href="../Databrary-Web.html#v:splitWebExtensions"><span class="hs-identifier">splitWebExtensions</span></a></a><span> </span><a name="local-1627903901"><a href="#local-1627903901"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-69"></a><span>  </span><span class="hs-identifier hs-var">first</span><span> </span><span class="hs-special">(</span><a href="../Databrary-Web.html#v:makeWebFilePath"><span class="hs-identifier hs-var">makeWebFilePath</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">dropExtensions</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="../Databrary-Web.html#v:webFileRel"><span class="hs-identifier hs-var">webFileRel</span></a><span> </span><a href="#local-1627903901"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">RFP</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">splitExtensions</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="../Databrary-Web.html#v:webFileRelRaw"><span class="hs-identifier hs-var">webFileRelRaw</span></a><span> </span><a href="#local-1627903901"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-70"></a><span>
</span><a name="line-71"></a><span class="hs-identifier">splitWebExtension</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">BS</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">ByteString</span><span class="hs-special">)</span><span>
</span><a name="line-72"></a><a name="splitWebExtension"><a href="../Databrary-Web.html#v:splitWebExtension"><span class="hs-identifier">splitWebExtension</span></a></a><span> </span><a name="local-1627903902"><a href="#local-1627903902"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-73"></a><span>  </span><span class="hs-identifier hs-var">first</span><span> </span><span class="hs-special">(</span><a href="../Databrary-Web.html#v:makeWebFilePath"><span class="hs-identifier hs-var">makeWebFilePath</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">dropExtension</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="../Databrary-Web.html#v:webFileRel"><span class="hs-identifier hs-var">webFileRel</span></a><span> </span><a href="#local-1627903902"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">RFP</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">splitExtension</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="../Databrary-Web.html#v:webFileRelRaw"><span class="hs-identifier hs-var">webFileRelRaw</span></a><span> </span><a href="#local-1627903902"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-74"></a><span>
</span><a name="line-75"></a><span class="hs-identifier">replaceWebExtension</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-type">WebFilePath</span></a><span>
</span><a name="line-76"></a><a name="replaceWebExtension"><a href="../Databrary-Web.html#v:replaceWebExtension"><span class="hs-identifier">replaceWebExtension</span></a></a><span> </span><a name="local-1627903903"><a href="#local-1627903903"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-special">(</span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-var">WebFilePath</span></a><span> </span><a name="local-1627903904"><a href="#local-1627903904"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-1627903905"><a href="#local-1627903905"><span class="hs-identifier">fa</span></a></a><span> </span><a name="local-1627903906"><a href="#local-1627903906"><span class="hs-identifier">r</span></a></a><span> </span><a name="local-1627903907"><a href="#local-1627903907"><span class="hs-identifier">ra</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Databrary.Web.html#WebFilePath"><span class="hs-identifier hs-var">WebFilePath</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">replaceExtension</span><span> </span><a href="#local-1627903904"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-1627903903"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">FP</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">replaceExtension</span><span> </span><a href="#local-1627903905"><span class="hs-identifier hs-var">fa</span></a><span> </span><a href="#local-1627903903"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">RFP</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">replaceExtension</span><span> </span><a href="#local-1627903906"><span class="hs-identifier hs-var">r</span></a><span> </span><a href="#local-1627903908"><span class="hs-identifier hs-var">re</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">RFP</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">replaceExtension</span><span> </span><a href="#local-1627903907"><span class="hs-identifier hs-var">ra</span></a><span> </span><a href="#local-1627903908"><span class="hs-identifier hs-var">re</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-1627903908"><a href="#local-1627903908"><span class="hs-identifier">re</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">BSC</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">pack</span><span> </span><a href="#local-1627903903"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-77"></a></pre></body></html>